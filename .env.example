# =============================================================================
# CHILENOS YOUNG - Variables de Entorno
# =============================================================================
# 
# INSTRUCCIONES:
# 1. Copia este archivo: cp .env.example .env.local
# 2. Completa los valores según tu entorno
# 3. NUNCA commitees archivos .env con valores reales
#
# PARA PRODUCCIÓN (Vercel):
# - Configura en: Dashboard > Settings > Environment Variables
# - Marca las variables sensibles como "Encrypted"
# =============================================================================

# =============================================================================
# MODO DE ENTORNO
# =============================================================================
NODE_ENV=development
# Valores posibles:
# - development: Modo desarrollo con hot reload
# - production: Modo producción optimizado
# - test: Modo testing

# =============================================================================
# BASE DE DATOS (REQUERIDO)
# =============================================================================
# Formato: postgresql://usuario:password@host:puerto/database
#
# DESARROLLO LOCAL (PostgreSQL local):
DATABASE_URL=postgresql://postgres:password@localhost:5432/fch_noticias
#
# VERCEL POSTGRES (Producción):
# DATABASE_URL=postgres://default:xxxxxxxx@xxxxxxxx.us-east-1.postgres.vercel-storage.com:5432/verceldb?sslmode=require
#
# RAILWAY (Alternativa):
# DATABASE_URL=postgresql://postgres:xxxxxxxx@xxxxxxxx.railway.app:5432/railway
#
# SUPABASE (Alternativa):
# DATABASE_URL=postgresql://postgres:xxxxxxxx@db.xxxxxxxx.supabase.co:5432/postgres

# =============================================================================
# OAUTH - MANUS (REQUERIDO PARA AUTENTICACIÓN)
# =============================================================================
# Obtén estas credenciales desde:
# https://account.manus.im → Developer → OAuth Apps
#
MANUS_OAUTH_CLIENT_ID=tu_client_id_aqui
MANUS_OAUTH_CLIENT_SECRET=tu_client_secret_aqui
#
# URLs de Callback (deben coincidir exactamente con tu app OAuth)
MANUS_OAUTH_REDIRECT_URI=http://localhost:3000/api/oauth/callback
# Producción:
# MANUS_OAUTH_REDIRECT_URI=https://tu-dominio.vercel.app/api/oauth/callback
#
# URL del servidor OAuth
OAUTH_SERVER_URL=https://account.manus.im

# =============================================================================
# JWT - AUTENTICACIÓN (GENERAR VALORES ÚNICOS Y SEGUROS)
# =============================================================================
# Genera un secreto seguro ejecutando:
# node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
#
JWT_SECRET=genera_un_secreto_de_64_caracteres_minimo_con_crypto
JWT_EXPIRES_IN=7d
# Valores posibles: 1h, 24h, 7d, 30d, 90d

# =============================================================================
# SESSION (GENERAR VALOR ÚNICO)
# =============================================================================
# Genera con:
# node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
#
SESSION_SECRET=otro_secreto_unico_de_64_caracteres_para_sessions

# =============================================================================
# URL DEL SITIO
# =============================================================================
NEXT_PUBLIC_SITE_URL=http://localhost:5173
# Producción:
# NEXT_PUBLIC_SITE_URL=https://tu-dominio.vercel.app

# =============================================================================
# AMAZON S3 - ALMACENAMIENTO DE IMÁGENES (OPCIONAL)
# =============================================================================
# Si no configuras S3, las imágenes se sirven desde /public
# 
# AWS_REGION=us-east-1
# AWS_ACCESS_KEY_ID=AKIAXXXXXXXXXXXXXXXX
# AWS_SECRET_ACCESS_KEY=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# AWS_S3_BUCKET=nombre-del-bucket-s3

# =============================================================================
# ANALYTICS (OPCIONAL)
# =============================================================================
# Soporta: Plausible, Google Analytics, o cualquier endpoint personalizado
#
# PLAUSIBLE:
# VITE_ANALYTICS_ENDPOINT=https://plausible.io/js/script.js
# VITE_ANALYTICS_WEBSITE_ID=tu-dominio.com
#
# GOOGLE ANALYTICS:
# VITE_GA_TRACKING_ID=G-XXXXXXXXXX

# =============================================================================
# CONFIGURACIÓN DE DESARROLLO
# =============================================================================
# Puerto del servidor de desarrollo
PORT=3000

# Habilitar/deshabilitar logging detallado
DEBUG=true
# Valores: true | false

# =============================================================================
# VERCEL (AUTO-CONFIGURADO EN PRODUCCIÓN)
# =============================================================================
# Estas variables se configuran automáticamente en Vercel
# NO es necesario configurarlas manualmente en producción
#
# VERCEL_URL=tu-proyecto.vercel.app
# VERCEL_ENV=production
# VERCEL_REGION=sfo1

# =============================================================================
# FEATURE FLAGS (OPCIONAL)
# =============================================================================
# Habilitar/deshabilitar features específicas
#
# VITE_ENABLE_ANALYTICS=false
# VITE_ENABLE_PUSH_NOTIFICATIONS=false
# VITE_ENABLE_COMMENTS=false

# =============================================================================
# CACHE CONFIGURATION
# =============================================================================
# Tiempo de expiración del caché en segundos
CACHE_TTL=86400
# Default: 24 horas

# =============================================================================
# RATE LIMITING (PRODUCCIÓN)
# =============================================================================
# Límites de requests por minuto
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60000

# =============================================================================
# NOTAS DE SEGURIDAD
# =============================================================================
# ⚠️  IMPORTANTE:
# 
# 1. NUNCA commitees archivos .env con valores reales
# 2. Usa .env.local para desarrollo (está en .gitignore)
# 3. En Vercel, marca como "Encrypted" las variables sensibles:
#    - DATABASE_URL
#    - JWT_SECRET
#    - SESSION_SECRET
#    - MANUS_OAUTH_CLIENT_SECRET
#    - AWS_SECRET_ACCESS_KEY
# 4. Rota los secretos periódicamente (cada 90 días recomendado)
# 5. Usa diferentes valores para desarrollo y producción
# 6. No compartas los archivos .env por email o chat

# =============================================================================
# CHECKLIST DE CONFIGURACIÓN
# =============================================================================
# 
# [ ] Copiar este archivo a .env.local
# [ ] Configurar DATABASE_URL con tu BD PostgreSQL
# [ ] Crear base de datos: psql -c "CREATE DATABASE fch_noticias;"
# [ ] Obtener credenciales OAuth de Manus (https://account.manus.im)
# [ ] Generar JWT_SECRET seguro (64+ caracteres)
# [ ] Generar SESSION_SECRET seguro (64+ caracteres)
# [ ] Configurar NEXT_PUBLIC_SITE_URL
# [ ] Ejecutar migraciones: pnpm db:push
# [ ] (Opcional) Configurar AWS S3 para imágenes
# [ ] (Opcional) Configurar Analytics
# [ ] Verificar conexión: pnpm dev
# [ ] Testear autenticación OAuth
# [ ] Verificar API: http://localhost:3000/api/health
# [ ] Ejecutar seeds: pnpm db:seed (opcional)

# =============================================================================
# COMANDOS ÚTILES
# =============================================================================
#
# Generar secret JWT:
#   node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
#
# Testear conexión a BD:
#   psql $DATABASE_URL -c "SELECT version();"
#
# Ver variables en Vercel:
#   vercel env ls
#
# Pull variables de Vercel:
#   vercel env pull .env.production.local
#
# =============================================================================
